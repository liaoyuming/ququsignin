switch(domain.lang){case"cn":wit.msg.sign={login:{email:"请输入邮箱地址",emailformat:"请输入正确格式的邮箱地址",pwd:"请输入登录密码",captcha:"请输入验证码",username:"请输入手机号/邮箱/用户名",info:{title:"使用猪八戒网账号登录Witmart",username:"手机号/邮箱/用户名",username_p:"手机号/邮箱/用户名",pwd:"登录密码",pwd_p:"登录密码",captcha:"验证码",captcha_p:"验证码",captcha_refreshlink:"换一张",captcha_click_title:"看不清？点击刷新验证码",loginbtn:"登录",loginbtn_loading:"登录中..."}},registe:{email:"请输入邮箱地址",emailformat:"请输入正确格式的邮箱地址",pwd:"请输入6~20位密码(区分大小写)",pwd2:"请再次输入密码",pwdnotmatch:"两次密码输入不一致，请重新输入",nickname:"请输入用户昵称",nicknameformat:"请输入4~20位用户昵称，只能包含字母、数字和下划线",captcha:"请输入验证码",agreement:'请阅读并同意 <a target="_blank" href="/help/terms.html" data-placement="bottom" title="" data-original-title="用户协议">用户协议</a> 和 <a target="_blank" href="//privacy-policy.truste.com/verified-policy/www.witmart.com">TRSTe隐私规则</a>'},infos:{profession:"职业",skills:"技能",maxTip:"最多只能设置",maxTip1:"个",customTip:"添加",customTip1:"为您的"},social:{placeholder:"请输入您在以上网站的地址（最少1个，最多5个），请勿重复输入",maxtip:"最多只能填写5个网址",mintip:"最少必须填写1个网址",noturl:"请输入正确的url地址",sameurl:"请勿重复输入同一个社交网络的网址"}};break;case"tw":wit.msg.sign={login:{email:"入]箱地址",emailformat:"入正_格式的]箱地址",pwd:"入登密a",captcha:"入Ca",username:"入手C/]箱/用裘",info:{title:"使用i八戒W~登Witmart",username:"手C/]箱/用裘",username_p:"手C/]箱/用裘",pwd:"登密a",pwd_p:"填您的登密a",captcha:"Ca",captcha_p:"Ca",captcha_refreshlink:"Q一",captcha_click_title:"看不清？c羲⑿买Ca",loginbtn:"登",loginbtn_loading:"登中..."}},registe:{email:"入]箱地址",emailformat:"入正_格式的]箱地址",pwd:"入6~20位密a(^分大小)",pwd2:"再次入密a",pwdnotmatch:"纱蚊艽a入不一致，重新入",nickname:"入用絷欠Q",nicknameformat:"入4~20位用絷欠Q，只能包含字母、底趾拖",captcha:"入Ca",agreement:'xK同意 <a target="_blank" href="/help/terms.html" data-placement="bottom" title="" data-original-title="用fh">用fh</a> 和 <a target="_blank" href="//privacy-policy.truste.com/verified-policy/www.witmart.com">TRSTe[私t</a>'},infos:{profession:"I",skills:"技能",maxTip:"最多只能O置",maxTip1:"",customTip:"添加",customTip1:"槟的"},social:{placeholder:"入您在以上W站的地址（最少1，最多5），勿重洼入",maxtip:"最多只能填5W址",mintip:"最少必填1W址",noturl:"入正_的url地址",sameurl:"勿重洼入同一社交Wj的W址"}};break;default:wit.msg.sign={login:{email:"Please enter your email",emailformat:"Please enter a valid email address",pwd:"Please enter your password",captcha:"Please enter verification code",username:"Please enter mobile or email or username",info:{title:"Sign in with zhubajie.com account",username:"Mobile / Email / User Name",username_p:"Mobile / Email / User Name",pwd:"Password",pwd_p:"Password",captcha:"Verification Code",captcha_p:"Verification Code",captcha_refreshlink:"Refresh",captcha_click_title:"Click this to refresh verification code",loginbtn:"Sign in",loginbtn_loading:"Sign in..."}},registe:{email:"Please enter your email",emailformat:"Please enter a valid email address",pwd:"Please enter 6-20 characters (Case sensitive)",pwd2:"Please enter the same password as above",pwdnotmatch:"Please enter the same password as above",nickname:"Please enter your nickname",nicknameformat:"The nickname should consist of 4-20 letters and/or numbers only",captcha:"Please enter verification code",agreement:'Please accept the <a target="_blank" href="/help/terms.html" data-placement="bottom" title="" data-original-title="User Agreement">User Agreement</a> and <a target="_blank" href="//privacy-policy.truste.com/verified-policy/www.witmart.com">Privacy Policy</a>'},infos:{profession:"Profession",skills:"Skills",maxTip:"Can only set up",maxTip1:"",customTip:"Add",customTip1:"of your"},social:{placeholder:"Enter the URL of your social network profile page (minimum 1, maximum 5)",maxtip:"Only fill in 5",mintip:"At least must fill in 1",noturl:"Please enter a valid url",sameurl:"Do not repeat the same social networking web site"}};break}var lang_sign=wit.msg.sign;var sign={login_page:{error:{show:function(b,a){$("#msg-alert").attr("class","alert "+(a?a:"alert-danger")).html(b)},hide:function(){$("#msg-alert").attr("class","alert hide").html("")}},event:function(){var e=$("#needCaptcha");var b=$("#captcharow");var d=true;function f(g){$("#captchaimg").attr("src","/user/sign/captcha?isjs=1&seed="+$("#seed").val()+"&r="+Math.random());if(g){$("#input-verifycode").focus()}return false}var a=0;function c(){if($("#j-cd")){var g=parseInt($("#j-cd").text());a=g;if(g<1){$("#j-resend").removeClass("text-muted");return false}else{$("#j-resend").addClass("text-muted");g--;$("#j-cd").text(g);setTimeout(function(){c()},1000)}}}$("#input-email").change(function(){var g=$(this).val();$.get("/user/sign/haspassword?isjs=1&email="+g,function(h){if(h.state==1){if(e.val()=="1"){b.removeClass("hidden").slideDown()}b.prev().show();sign.login_page.error.hide();d=true}else{if(e.val()=="1"&&!b.hasClass("hidden")){b.addClass("hidden").hide()}b.prev().hide();sign.login_page.error.show(h.msg,"alert-success");d=false}})});$("#btn-login-submit").click(function(){var g=$.trim($("#input-email").val());if(wit.validator.isnull(g)){sign.login_page.error.show(lang_sign.login.email);f();return false}if(!wit.validator.ismail(g)){sign.login_page.error.show(lang_sign.login.emailformat);f();return false}if(d&&wit.validator.isnull($("#input-password").val())){sign.login_page.error.show(lang_sign.login.pwd);f();return false}if(d&&e.val()=="1"&&!b.hasClass("hidden")&&$("#input-verifycode").val().replace(/\s/g,"")==""){sign.login_page.error.show(lang_sign.login.captcha);f();return false}sign.login_page.error.hide();$.ajax({url:$("#form-sign").attr("action"),data:$("#form-sign").serialize(),success:function(h){if(h.state==1){location.href=h.backurl}else{var i=h.msg;if(h.cd&&parseInt(h.cd)>0){i+="(<span id='j-cd'>"+h.cd+"</span>)"}sign.login_page.error.show(i);if(a<1){c()}if(h.showcaptcha==1&&b){b.removeClass("hidden").slideDown();f(true);e.val(1)}else{f()}}},error:function(h){wit.alert(h.responseText,"e");f()}});return false});$("#captchaimg,#j-captcha-refresh").click(function(){f()});$("#j-resend").live("click",function(){var h=0;if($("#j-cd")){h=parseInt($("#j-cd").text())}if(h>0){return false}var g=$(this);$.ajax({url:g.attr("href"),type:"get",success:function(i){var j=i.msg;if(i.cd&&parseInt(i.cd)>0){j+="(<span id='j-cd'>"+i.cd+"</span>)"}sign.login_page.error.show(j,(i.state==1?"alert-success":""));if(a<1){c()}f();return false},error:function(i){wit.alert(i.responseText,"e");f();return false}});return false})},init:function(){sign.login_page.event()}},login_zbj:{action:"/user/sign/inzbjdo",error:{show:function(a){$("#msg-alert-zbj").removeClass("hidden").html(a)},hide:function(){$("#msg-alert-zbj").addClass("hidden").html("")}},show:function(){var a='<img src="'+domain.styleurl+'/img/sign/zbj-wm.png">';a+='<div class="col-xs-10 margin-top-20 margin-bottom-20"><div class="alert alert-danger hidden" id="msg-alert-zbj"></div><form role="form" id="form-sign-zbj" action="'+this.action+'"><div class="form-group clear"><h4 class="fsize-16">'+lang_sign.login.info.username+'</h4><div class="input-group"><span class="input-group-addon"><i class="fa fa-envelope-o"></i></span><input type="email" class="form-control" id="input-email-zbj" name="email"placeholder="'+lang_sign.login.info.username_p+'"></div></div><div class="form-group clear"><h4 class="fsize-16">'+lang_sign.login.info.pwd+'</h4><div class="input-group"><span class="input-group-addon"><i class="fa fa-key"></i></span><input type="password" class="form-control" id="input-password-zbj" name="password"placeholder="'+lang_sign.login.info.pwd_p+'"></div></div><div class="form-group clear '+($("#needCaptcha").val()?"":"hidden")+'" id="captcharow-zbj"><h4 class="fsize-16">'+lang_sign.login.info.captcha+'</h4><div class="clear"></div><div class="col-xs-6 row"><div class="input-group"><span class="input-group-addon"><i class="fa fa-barcode"></i></span><input type="text" maxlength="6" class="form-control" id="input-verifycode-zbj"name="verifycode" placeholder="'+lang_sign.login.info.captcha_p+'"></div></div><div class="col-xs-7 row">&nbsp; <img class="img_verify" id="captchaimg-zbj" src="/user/sign/captcha?isjs=1&seed='+$("#seed").val()+"&r="+Math.random()+'"width="135" height="34" seed="'+$("#seed").val()+'"title="'+lang_sign.login.info.captcha_click_title+'" alt="'+lang_sign.login.info.captcha+'"/> <a href="javascript:;" id="j-captcha-refresh-zbj"><i class="fa fa-refresh"></i> '+lang_sign.login.info.captcha_refreshlink+'</a></div></div><div class="form-group row col-xs-5 margin-top-10"><button type="submit" class="btn btn-primary btn-block fsize-14" data-loading-text="'+lang_sign.login.info.loginbtn_loading+'"id="btn-login-zbj-submit">'+lang_sign.login.info.loginbtn+'</button><input type="hidden" name="seed" value="'+$("#seed").val()+'"/><input type="hidden" name="fromurl" value="'+$("#fromurl").val()+'"/></div></form></div><div class="clear"></div>';var b=wit.modals({id:"-login-zbj",title:lang_sign.login.info.title,button:0});b.show(a)},event:function(){$("#btn-login-zbj").click(function(){sign.login_zbj.show()});var a=$("#needCaptcha");function b(c){$("#captchaimg-zbj,#captchaimg").attr("src","/user/sign/captcha?isjs=1&seed="+$("#seed").val()+"&r="+Math.random());if(c){$("#input-verifycode-zbj").focus()}return false}$("#btn-login-zbj-submit").live("click",function(){var c=$("#captcharow-zbj,#captcharow");if(wit.validator.isnull($("#input-email-zbj").val())){sign.login_zbj.error.show(lang_sign.login.username);b();return false}if(wit.validator.isnull($("#input-password-zbj").val())){sign.login_zbj.error.show(lang_sign.login.pwd);b();return false}if(a.val()=="1"&&!c.hasClass("hidden")&&$("#input-verifycode-zbj").val()==""){sign.login_zbj.error.show(lang_sign.login.captcha);b();return false}sign.login_zbj.error.hide();$.ajax({url:$("#form-sign-zbj").attr("action"),data:$("#form-sign-zbj").serialize(),success:function(d){if(d.state==1){location.href=d.backurl}else{sign.login_zbj.error.show(d.msg);if(d.showcaptcha==1&&c){c.removeClass("hidden").slideDown();b(true);a.val(1)}else{b()}}},error:function(d){wit.alert(d.responseText,"e");b()}});return false});$("#captchaimg-zbj,#j-captcha-refresh-zbj").live("click",function(){b()})},init:function(a){this.action=a;sign.login_zbj.event()}},registe:{setTip:function(c,a,b){if(a){c.focus();c.parent().next(".help-block").html(b).css("display","block");c.parent().parent().addClass("has-error")}else{c.parent().next(".help-block").hide().html("");c.parent().parent().removeClass("has-error")}},event:function(){var f=$("#needCaptcha");var a=$("#captcharow");var e=["email","password","password2","nickname","verifycode"];function b(j){var k={isok:true,msg:""};var i=$("#input-"+j);switch(j){case"email":if(wit.validator.isnull(i.val())){k.isok=false;k.msg=lang_sign.registe.email}else{if(!wit.validator.ismail(i.val())){k.isok=false;k.msg=lang_sign.registe.emailformat}}break;case"password":if(wit.validator.isnull(i.val())||!wit.validator.checklen(i.val(),{min:6,max:20})){k.isok=false;k.msg=lang_sign.registe.pwd}break;case"password2":if(wit.validator.isnull(i.val())){k.isok=false;k.msg=lang_sign.registe.pwd2}else{if(i.val()!=$("#input-password").val()){k.isok=false;k.msg=lang_sign.registe.pwdnotmatch}}break;case"nickname":if(wit.validator.isnull(i.val())){k.isok=false;k.msg=lang_sign.registe.nickname}else{if(!wit.validator.isuser(i.val())){k.isok=false;k.msg=lang_sign.registe.nicknameformat}}break;case"verifycode":if(f.val()=="1"&&!a.hasClass("hidden")&&wit.validator.isnull(i.val())){k.isok=false;k.msg=lang_sign.registe.captcha}break;default:k=k;break}return k}function h(){var l={isok:true,msg:""};for(var j=0;j<e.length;j++){var k=e[j];l=b(k);if(!l.isok){sign.registe.setTip($("#input-"+k),true,l.msg);break}else{sign.registe.setTip($("#input-"+k),false)}}return l.isok}function g(i){$("#captchaimg").attr("src","/user/sign/captcha?isjs=1&seed="+$("#seed").val()+"&r="+Math.random());if(i){$("#input-verifycode").focus()}return false}for(var c=0;c<e.length;c++){var d=e[c];$("#input-"+d).blur(function(){var j=$(this).attr("id").replace("input-","");var i=b(j);if(i.isok){sign.registe.setTip($(this),false)}})}$("#btn-register-submit").click(function(){if(h()){var i=$("#input-accept").prop("checked");if(!i){wit.alert(lang_sign.registe.agreement,"w");g();return false}$.ajax({url:$("#form-up").attr("action"),data:$("#form-up").serialize(),success:function(j){window.onbeforeunload=null;if(j.state==1){location.href=j.backurl}else{if(j.showcaptcha==1&&a){a.removeClass("hidden").slideDown();g(true);f.val(1)}else{g()}wit.alert(j.msg,"w")}},error:function(j){wit.alert(j.responseText,"e")}})}else{g()}return false});$("#captchaimg,#j-captcha-refresh").click(function(){g()})},init:function(){sign.registe.event()}},infos:{element:{input_search:$("#input-profession,#input-skills"),list:$("#list-profession,#list-skills"),list_selected:$("#list-selected"),count:$("#badge-select-count"),btn_submit:$("#btn-submit")},vars:{count:0,min:0,max:0,type:"profession"},event:function(){function a(){sign.infos.element.count.text(sign.infos.vars.count);sign.infos.element.btn_submit.prop("disabled",sign.infos.vars.count<sign.infos.vars.min)}sign.infos.element.list.delegate("a","click",function(){if(sign.infos.vars.count>=sign.infos.vars.max){wit.alert(lang_sign.infos.maxTip+" "+sign.infos.vars.max+" "+lang_sign.infos.maxTip1+lang_sign.infos[sign.infos.vars.type],"w");return false}var d=$(this);d.attr("data-choosed",true).slideUp("fast");var b=d.attr("data-value");var e=d.attr("data-text");var c=sign.infos.element.list_selected.find("li").filter(function(f){return $(this).attr("data-text").toLowerCase()==e.toLowerCase()});if(c.size()<=0&&(b==0||sign.infos.element.list_selected.find("li[data-value='"+b+"']").size()<=0)){sign.infos.element.list_selected.append("<li data-value='"+b+"' class='list-group-item' data-text='"+e+"'>"+e+"<i class='close'>&times;</i></li>");sign.infos.vars.count++;a()}sign.infos.element.input_search.val("").keyup()});sign.infos.element.list_selected.delegate("li i[class='close']","click",function(){var b=$(this).parent();b.remove();sign.infos.element.list.find("a[data-value='"+b.attr("data-value")+"'][data-value!=0]").removeClass("hide").removeAttr("data-choosed").slideDown("fast");sign.infos.vars.count--;a()});sign.infos.element.input_search.keyup(function(b){var d=b.keyCode;switch(d){case 37:case 39:case 38:case 40:case 13:break;default:var c=sign.infos.element.input_search.val();if(c!=""){$.each(sign.infos.element.list.find("a"),function(e,f){var g=$(f).text();if(g.toLowerCase().indexOf(c.toLowerCase())>=0&&!$(f).attr("data-choosed")){$(f).removeClass("hide").show()}else{$(f).addClass("hide").hide()}});sign.infos.element.list.find("a:eq(0)").html(lang_sign.infos.customTip+" &quot;<b class='text-primary'>"+c+"</b>&quot; "+lang_sign.infos.customTip1+lang_sign.infos[sign.infos.vars.type]).attr("data-text",c).removeClass("hide").show()}else{sign.infos.element.list.find("a[data-choosed!=true]").removeClass("hide").show();sign.infos.element.list.find("a:eq(0)").html("").removeAttr("data-text").removeAttr("data-choosed").addClass("hide").hide()}break}});sign.infos.element.btn_submit.click(function(){var d=new Array();var c=new Array();var b=$(this);$.each(sign.infos.element.list_selected.find("li"),function(e,g){var f=$(g).attr("data-value");var h=$(g).attr("data-text");f=="0"?c.push(h):d.push(f)});$.ajax({url:b.attr("data-url"),data:sign.infos.vars.type+"="+d.join(",")+"&custom="+c.join(","),success:function(e){if(e.state==1){location.href=e.backurl}else{wit.alert(e.msg,"w")}},error:function(e){wit.alert(e.responseText,"e")}});return false})},init:function(b,a,c){sign.infos.vars.min=b;sign.infos.vars.max=a;sign.infos.vars.type=c;sign.infos.vars.count=sign.infos.element.list_selected.find("li").size();sign.infos.event()}},social:{event:function(){$("#btn-social-addurl").click(function(){if($("#form-social .input-group").size()>=5){wit.alert(lang_sign.social.maxtip,"w");return false}var a='<div class="input-group margin-bottom-10"><span class="input-group-addon"><i class="fa fa-link"></i></span><input type="url" name="socialurl" class="form-control"placeholder="'+lang_sign.social.placeholder+'"><span class="input-group-btn">   <button class="btn btn-default j-delete-input" type="button">&times;</button></span></div>';$(a).insertAfter($("#form-social .input-group").last())});$(".j-delete-input").live("click",function(){if($("#form-social .input-group").size()<=1){wit.alert(lang_sign.social.mintip,"w");return false}var a=$(this);a.parent().parent().remove()});$("#btn-social-submit").click(function(){var c=new Array();var b=new Array();var a="";$.each($("input[name='socialurl']"),function(d,e){a="";var f=$.trim($(e).val());if(!wit.validator.isnull(f)){if(!wit.validator.isnull(f)&&!wit.validator.isurl(f)){a=lang_sign.social.noturl;return false}var g=f.replace("http://","").replace("https://","").replace("//","").split("/")[0];if(!wit.validator.isnull(g)&&$.inArray(g,b)>=0){a=lang_sign.social.sameurl;return false}b.push(g);c.push(f)}});if(a){wit.alert(a,"w");return false}else{if(c.length<1){wit.alert(lang_sign.social.mintip,"w");return false}else{$.ajax({url:$("#form-social").attr("action"),data:"url="+c.join(","),success:function(d){if(d.state==1){location.href=d.backurl}else{wit.alert(d.msg,"e")}},error:function(d){wit.alert(d.responseText,"e")}})}}return false})},init:function(){sign.social.event()}},forgot:{error:{show:function(a,b){$("#msg-alert").removeClass("hidden").html(a);if(b&&b=="success"){$("#msg-alert").removeClass("alert-danger").addClass("alert-success")}else{$("#msg-alert").removeClass("alert-success").addClass("alert-danger")}},hide:function(){$("#msg-alert").addClass("hidden").html("")}},event:function(){var a=0;function b(){if($("#j-cd")){var c=parseInt($("#j-cd").text());a=c;if(c<1){$("#j-resend").removeClass("text-muted");return false}else{$("#j-resend").addClass("text-muted");c--;$("#j-cd").text(c);setTimeout(function(){b()},1000)}}}$("#btn-forget-submit").click(function(){if($("#input-email").val().replace(/\s/g,"")==""){sign.forgot.error.show(lang_sign.login.email);return false}sign.forgot.error.hide();$.ajax({url:$("#form-forgot").attr("action"),data:$("#form-forgot").serialize(),success:function(c){var d=c.msg;if(c.cd&&parseInt(c.cd)>0){d+="(<span id='j-cd'>"+c.cd+"</span>)"}sign.forgot.error.show(d,c.state==1?"success":"fail");if(a<1){b()}},error:function(c){wit.alert(c.responseText,"e")}});return false});$("#j-resend").live("click",function(){var d=0;if($("#j-cd")){d=parseInt($("#j-cd").text())}if(d>0){return false}var c=$(this);$.ajax({url:c.attr("href"),type:"get",success:function(e){var f=e.msg;if(e.cd&&parseInt(e.cd)>0){f+="(<span id='j-cd'>"+e.cd+"</span>)"}sign.forgot.error.show(f,(e.state==1?"success":"fail"));if(a<1){b()}return false},error:function(e){wit.alert(e.responseText,"e");return false}});return false})},init:function(){sign.forgot.event()}},resetpass:{setTip:function(c,a,b){if(a){c.focus();c.parent().next(".help-block").html(b).css("display","block");c.parent().parent().addClass("has-error")}else{c.parent().next(".help-block").hide().html("");c.parent().parent().removeClass("has-error")}},event:function(){var d=["password","password2"];function a(g){var h={isok:true,msg:""};var f=$("#input-"+g);switch(g){case"password":if(wit.validator.isnull(f.val())||!wit.validator.checklen(f.val(),{min:6,max:20})){h.isok=false;h.msg=lang_sign.registe.pwd}break;case"password2":if(wit.validator.isnull(f.val())){h.isok=false;h.msg=lang_sign.registe.pwd2}else{if(f.val()!=$("#input-password").val()){h.isok=false;h.msg=lang_sign.registe.pwdnotmatch}}break;default:h=h;break}return h}function e(){var h={isok:true,msg:""};for(var f=0;f<d.length;f++){var g=d[f];h=a(g);if(!h.isok){sign.resetpass.setTip($("#input-"+g),true,h.msg);break}else{sign.resetpass.setTip($("#input-"+g),false)}}return h.isok}for(var b=0;b<d.length;b++){var c=d[b];$("#input-"+c).blur(function(){var g=$(this).attr("id").replace("input-","");var f=a(g);if(f.isok){sign.resetpass.setTip($(this),false)}})}$("#btn-reset-submit").click(function(){if(e()){$.ajax({url:$("#form-reset").attr("action"),data:$("#form-reset").serialize(),success:function(f){if(f.state==1){location.href=f.backurl}else{wit.alert(f.msg,"w")}},error:function(f){wit.alert(f.responseText,"e")}})}return false})},init:function(){sign.resetpass.event()}},perfect:function(){$("#btn-perfect-submit").click(function(){$.ajax({url:$("#form-perfect").attr("action"),data:$("#form-perfect").serialize(),success:function(a){if(a.state==1){location.href=a.backurl}else{wit.alert(a.msg,"w")}},error:function(a){wit.alert(a.responseText,"e")}});return false})}};
